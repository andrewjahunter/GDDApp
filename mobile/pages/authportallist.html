<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../styles/app.css" rel="stylesheet" />
    <link href="../styles/gdd.mobile.min.css" rel="stylesheet" />
    <link href="../styles/jquery.mobile.structure-1.3.0.min.css" rel="stylesheet" />
    <!--<script src="../scripts/jquery.mobile-1.3.0.min.js"></script>-->
    <script data-main="../scripts/app/appstart.js" src="../../scripts/libraries/require.js"></script>

</head>
<body>

    <div data-role="page" id="pg_authportallist" data-theme="a">

        <div data-role="panel" id="panelAddNewPortal" data-position="right" data-display="push" data-theme="g">
            <div data-theme="g" style="padding: 2px">
                Search For Church<a href="#pg_authportals_activate_help" data-rel="popup" data-role="button" data-position-to="window" class="ui-icon-alt" data-inline="true" data-theme="h" data-transition="slideup" data-icon="info" data-iconpos="notext">Learn more</a>
            </div>
            <div data-role="popup" id="searchPortalPopup" class="ui-content" data-theme="h" style="max-width: 400px;">
                <p>Enter the name of the database you are looking for and click "search". Click the database to add it to your account.</p>
            </div>
            <input id="txtPortalSearchString" placeholder="enter text" value="" type="text" />




            <!-- /grid-b -->

            <div class="ui-grid-a">
                <div class="ui-block-a">
                    <div data-role="button" data-theme="b" id="btnSearchPortals" data-inline="true">search</div>
                </div>
                <div class="ui-block-b">
                    <div data-role="button" data-theme="a" data-rel="close" id="btnCloseSearchPortals" data-inline="true">close</div>
                </div>
            </div>
            <!-- /grid-a -->


            <ul data-role="listview" data-split-icon="check" data-split-theme="c" data-inset="true" data-theme="a" id="searchPortals" data-bind="template: { name: 'portallist-template', foreach: portalSearchResults}"></ul>

        </div>

        <div data-role="header">
            <a href="#" data-icon="back" data-rel="back" data-role="button" data-iconpos="notext">New Portal</a>
            <h1 class="pageHeader" id="pg_authportallist_header">portal list</h1>
            <a href="#" id="pg_authportals_header_search" data-icon="search" data-role="button" data-iconpos="notext" data-transition="slideup"></a>

        </div>

        <div data-role="content" style="padding: 15px">
            <div data-role="popup" class="ui-content" id="errpopup" data-theme="e">
                <div id="errpopmessage"></div>
            </div>

            <script id="portallist-template" type="text/html">
                <li data-bind="attr: {id: portalId}">
                    <a data-bind="attr: {href: '#'}" class="loadsession addportal" data-transition="slide">
                        <h3 data-bind="text: portalName"></h3>

                    </a>

                    <a data-role="button" href="#" class="removeportal addportal" data-position-to="window"></a>
                </li>
            </script>

            <div id="pg_authportals_exists">
                <a data-role="button" href="#panelAddNewPortal" data-inline="true" data-theme="b" class="ui-btn-right">Add Database</a>
                <div class="ui-body-h" style="padding: 2px; margin-top:5px">
                    From this list of active databases, tap the one you want to sign into. Tap the                   
                    <span data-inline="true" data-theme="d" data-role="button" data-icon="delete" data-iconpos="notext"></span> icon to de-activate this database from your profile.
                </div>

                <div id="divAuthPortals">
                    <ul data-role="listview" data-split-icon="delete" data-split-theme="d" data-inset="true" data-theme="b" id="portalList" data-bind="template: { name: 'portallist-template', foreach: authorizedPortals}"></ul>
                </div>
            </div>

            <div id="pg_authportals_none" style="display: none">
                <div class="ui-body-d" style="padding: 2px">
                    <p>To complete your registration you need to activate the churches/ministries you would like to have access to.</p>
                    <p>You can activate as many databases in your account as you like. Click the Activate Databases button below.</p>

                </div>
                <a data-role="button" href="#panelAddNewPortal" data-theme="b">Activate Databases</a>
            </div>



          

            <div data-role="popup" id="pg_authportals_activate_help" data-overlay-theme="h" style="max-width: 450px;"
                class="ui-corner-all">
                <div data-role="header" class="ui-corner-top">
                    <h1>Activate New Database</h1>
                </div>
                <div data-role="content" class="ui-corner-bottom ui-content">
                    <p>Enter the name of the database you want to activate and click search</p>
                    <p>From the result, click the database you want to activate</p>
                    <p>The databae will now appear in your active list</p>


                    <a href="#" data-role="button" data-theme="h" data-rel="back">Okay!</a>

                </div>
            </div>
        </div>


    </div>

    <!-- /page -->

</body>
</html>
