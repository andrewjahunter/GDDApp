<!DOCTYPE html>
<html>
<head>
    <title>My Page</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="../styles/jquery-ui-1.9.1.custom.min.css" rel="stylesheet" />
    <link href="../styles/app.css" rel="stylesheet" />
    <link href="../styles/gdc.mobile.min.css" rel="stylesheet" />
    <link href="../styles/jquery.mobile.structure-1.3.0.min.css" rel="stylesheet" />
    <script data-main="../scripts/app/appstart.min.js" src="../../scripts/libraries/require.js"></script>
</head>
<body style="background-color: #343131; color: white; font-family: 'Helvetica Neue',Helvetica,Arial,sans-serif">

    <div data-role="page" id="pg_groupsearch" data-theme="a">



        <div data-role="header">
            <a href="groupsmenu.html" data-icon="bars" data-direction="reverse" data-role="button"  data-theme="b" data-iconpos="notext">Groups Menu</a>
            <h1 class="pageHeader">Search</h1>
            <a href="#" class="btnClearSearch" data-icon="refresh" data-role="button" data-theme="b">clear</a>

        </div>
        <!-- /header -->
        <div data-role="content" style="padding: 15px">


            <!--<div class="grpSearchSubView grpSearchStep1View" style="display:none">


                <div data-role="content" class="ui-body-h" style="text-align: center">
                    Your profile is permitted to search for groups in the following category. Choose the one relevent to this search
                </div>
                <button id="btnGrpSearchNoCategories" data-theme="a">Ignore Categories</button>
                <script id="searchcat-template" type="text/html">
                    <li>
                        <a data-bind="attr: {'data-id': id}" class="grpSearchCat" style="white-space:normal">
                            <div data-bind="html: editLabel"></div>
                            <div><small>(<i data-bind="html: description"></i>)</small></div> <div></div>
                        </a>
                    </li>
                </script>
                <ul data-role="listview" data-inset="true" data-theme="b" id="grpSearchCatSelector" data-bind="template: { name: 'searchcat-template', foreach: permittedSearchGrpCategories}"></ul>

            </div>


            <div class="grpSearchSubView grpSearchStep2View" style="display:none">

                <div data-role="content" class="ui-body-h" style="text-align: center">
                    Your profile is permitted to search for more than one type in the category you selected
                </div>
                <button id="btnGrpSearchNoType" data-theme="a">Ignore Types</button>

                <script id="searchtype-template" type="text/html">
                    <li>
                        <a data-bind="attr: {'data-id': id}" class="grpSearchType" style="white-space:normal">
                            <div data-bind="html: editLabel"></div>
                            <div><small>(<i data-bind="html: description"></i>)</small></div> <div></div>
                        </a>
                    </li>
                </script>
                <ul data-role="listview" data-inset="true" data-theme="b" id="grpSearchTypeSelector" data-bind="template: { name: 'searchtype-template', foreach: permittedSearchGrpTypes}"></ul>


                <button type="button" data-inline="true" class="btnGrpSearchGoStep1" data-theme="a">Back</button>
            </div>-->


            <div class="grpSearchSubView grpSearchParam" style="display:none">

                <div class="ui-bar ui-bar-h">
                    <div style="text-align:center">Search Filters</div>

                </div>
                <div data-role="content" class="ui-body-h" style="text-align:center; font-size:small">
                    <div>Select your search filters below and click search</div>
                    
                </div>

                <div data-role="fieldcontain">
                    <label for="ddlGrpSearchAgeProfile">
                       Groups age profile
                    </label>
                    <select id="ddlGrpSearchAgeProfile" name="" data-bind="options: refData.ageProfiles, value:searchQry.ageProfileId, optionsText: 'name', optionsValue: 'id',optionsCaption: 'select option...'"></select>


                </div>

                <div data-role="fieldcontain">
                    <label for="ddlGrpSearchSuburb">
                        Suburb where group meets
                    </label>
                    <select id="ddlGrpSearchSuburb" name="" data-bind="options: refData.suburbs, value:searchQry.suburb,optionsCaption: 'select option...'"></select>

                </div>

                <div data-role="fieldcontain">
                    <label for="ddlGrpSearchMeetingDay">
                        Day group meets on
                    </label>
                    <select id="ddlGrpSearchMeetingDay" name="" data-bind="value:searchQry.meetingDay">
                        <option value="">select option...</option>
                        <option value="Monday">Monday</option>
                        <option value="Tuesday">Tuesday</option>
                        <option value="Wednesday">Wednesday</option>
                        <option value="Thursday">Thursday</option>
                        <option value="Friday">Friday</option>
                        <option value="Saturday">Saturday</option>
                        <option value="Sunday">Sunday</option>
                        <option value="Unknown">Unknown</option>
                    </select>

                </div>

                <div data-role="fieldcontain">
                    <label for="ddlGrpSearchGender">
                        Gender of group
                    </label>
                    <select id="ddlGrpSearchGender" name="" data-bind="value:searchQry.gender">
                        <option value="">select option...</option>
                        <option value="M/F">Male/Female</option>
                        <option value="M">Male</option>
                        <option value="F">Female</option>
                    </select>

                </div>


                <button type="button" data-inline="false" id="btnGrpSearch" data-theme="b">Search</button>
                            <div data-role="content" id="grpSearchErr" class="ui-body-e" style="text-align:center; display:none"></div>



            </div>

            <div class="grpSearchSubView grpSearchResults" style="display:none">

                <script id="groupsearchlist-template" type="text/html">
                    <li data-role="list-divider">
                        <h5 data-bind="text: groupName"></h5>

                    </li>

                    <li>
                        <a data-bind="attr: {'data-id': id}" class="groupSearchItem" data-transition="slide">

                            <div data-bind="html: 'Group Category: ' + categoryName" style="font-size: small"></div>
                            <div data-bind="html: 'Category Type: ' + groupType" style="font-size: small"></div>
                            <div data-bind="html: 'Meeting Day: ' + meetingDay" style="font-size: small"></div>
                            <div data-bind="html: 'Gender: ' + gender" style="font-size: small"></div>
                            <div data-bind="html: 'Group Leader: ' + leaderName" style="font-size: small"></div>
                            <div data-bind="html: 'Leaders Cell Number: ' + leaderMobileNumber" style="font-size: small"></div>
                            <div data-bind="html: 'Email: ' + leaderEmail" style="font-size: small"></div>

                        </a>


                    </li>
                </script>


                <div data-role="popup" id="grpSearchResultsActions" data-theme="i">
                    <ul data-role="listview" data-inset="true" style="min-width: 210px;" data-theme="i">

                        <li><a href="#" id="btnGrpJoin">Join Group</a></li>
                        <li><a href="#" id="btnGrpMessageLeader">Contact Leader</a></li>
                       
                    </ul>
                </div>

                <div class="ui-bar ui-bar-h">
                    <div style="text-align:center">Matching Results</div>

                </div>
                <div data-role="content" class="ui-body-h" style="text-align:center; font-size:small">
                    <div>These are the groups that match you search criteria</div>
                    <!--<a href="#" class="btnClearSearch">Search Again</a><br/>-->
                    <div><a href="#grpSearchMissingGroupsPopup" data-rel="popup" data-transition="slideup" data-theme="a">Can't find group?</a></div>

                </div>

              
                <button data-role="button" id="btnViewSearchGroupsMaps" data-theme="a">View Google Map View</button>
                <ul data-role="listview" data-inset="true" data-divider-theme="b" data-theme="a" id="grpSearchResultsListView" data-bind="template: { name: 'groupsearchlist-template', foreach: loadedGroups}"></ul>
            </div>

            <div data-role="popup" id="grpSearchMissingGroupsPopup" data-overlay-theme="a"  style="max-width: 400px;" class="ui-corner-all">
                <div data-role="header" data-theme="h" class="ui-corner-top">
                    <h1>Can't Find</h1>
                </div>

                <div data-role="content" class="ui-corner-bottom ui-content">                 
                        <p>
                            Are there no groups matching your search, or is the group you are looking for missing?
                        </p>
                        <p>
                            Here are some reasons why this may be the case:
                            <ul>
                                <li>Your <strong>search criteria is to narrow.</strong> Run the search again with a different criteria</li>
                                <li>You church can choose which group types are shown on this mobile application. They may have <strong>disabled the group from being viewed</strong> in this app</li>
                                <li>Some groups can only be viewed with <strong>higher security permissions</strong>. You account may not have sufficient privileges</li>
                            </ul>
                        </p>

                    <a href="#" data-role="button" data-inline="false" data-rel="back" data-theme="b">Close</a>
                  

                </div>
            </div>
   

            <div data-role="popup" id="groupsSearchMapView" data-overlay-theme="a"
                 class="ui-corner-all" data-dismissible="false">
                <div data-role="header" data-theme="b" class="ui-corner-top">
                    <h1>Maps</h1>
                </div>
                <div data-role="content" data-theme="b" class="ui-corner-bottom ui-content">

                    <div id='groupsSearchListMap' class="groupsMap" style="width: 100%"></div>


                    <a href="#" data-role="button" data-theme="b" data-rel="back">Ok</a>
                    <div class="ui-body-e" style="padding: 2px" id="groupsSearchListMapError">
                    </div>

                </div>
            </div>
        </div>

        <!-- /page -->
    </div>
</body>
</html>
